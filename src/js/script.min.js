const chatModule=function(){let t=document.querySelector(".send-message-btn-js"),e=document.querySelector(".send-message-js");function s(){modalChat.classList.toggle("active")}function n(t){let e=document.querySelector(".message-prompts-js");e&&e.classList.contains("active")&&e.classList.remove("active"),messagesContainer.appendChild(t),messagesContainer.scrollTop=messagesContainer.scrollHeight,messageInput.value=""}function a(t){let e=document.createElement("div");if(e.classList.add("message"),!t.message.length)return!1;"client"===t.type?(e.classList.add("client"),e.innerHTML=`<div class="text-container">\n\t\t\t\t\t\t\t\t\t\t\t<p class="message-text">${t.message}</p>\n\t\t\t\t\t\t\t\t\t\t</div>`,lastMessage.client=t.message,config.onSendClientMessage&&config.onSendClientMessage()):"agent"==t.type&&(e.classList.add("agent"),e.innerHTML=`<img src="${t.sender.avatar}" alt="sender avatar" class="avatar">\n\t\t\t\t\t\t\t\t\t\t<div class="text-container">\n\t\t\t\t\t\t\t\t\t\t\t<p class="sender-name">${t.sender.name}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p class="message-text">${t.message}</p>\n\t\t\t\t\t\t\t\t\t\t</div>`,lastMessage.agent=t.message),n(e)}return closeChat=document.querySelector(".close-chat-js"),messageInput=document.querySelector(".client-massage-text-js"),messagesContainer=document.querySelector(".messages-container"),modalChat=document.querySelector(".modal-chat-js"),zoomChatBtn=document.querySelector(".zoom-chat-js"),config={},lastMessage={client:"",agent:""},zoomChatBtn.onclick=function(){modalChat.classList.toggle("zoom-in"),zoomChatBtn.classList.toggle("active")},t.onclick=function(){a({type:"client",message:messageInput.value})},e.onsubmit=function(){return a({type:"client",message:messageInput.value}),!1},messagesContainer.onclick=function(t){let e=t.target;e.classList.contains("prompts-js")&&a({type:"client",message:e.innerHTML})},closeChat.onclick=function(){s()},{chat_actions:s,create_message:a,config_chat:function(t){if(t)for(let e in t)if("prompts"===e){let s=document.createElement("div");s.classList.add("message-prompts","message-prompts-js","active");for(let n=0;n<t[e].length;n++){let a=document.createElement("button");a.classList.add("prompt","prompts-js"),a.innerHTML=t[e][n],s.appendChild(a)}messagesContainer.appendChild(s)}else"onSendClientMessage"===e&&(config.onSendClientMessage=t[e])},lastMessage:lastMessage}}();