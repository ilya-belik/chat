const chatModule=function(){let e=document.querySelector(".send-message-btn-js"),t=document.querySelector(".send-message-js");function s(){modalChat.classList.toggle("active")}function n(e){let t=document.querySelector(".message-prompts-js");t&&t.classList.contains("active")&&t.classList.remove("active"),messagesContainer.appendChild(e),messagesContainer.scrollTop=messagesContainer.scrollHeight,messageInput.value=""}function a(e){let t=document.createElement("div");if(t.classList.add("message"),!e.message.length)return!1;"client"===e.type?(t.classList.add("client"),t.innerHTML=`<div class="text-container">\n\t\t\t\t\t\t\t\t\t\t\t<p class="message-text">${e.message}</p>\n\t\t\t\t\t\t\t\t\t\t</div>`,lastMessage.client=e.message,config.onSendClientMessage&&config.onSendClientMessage()):"agent"==e.type&&(t.classList.add("agent"),t.innerHTML=`<img src="${e.sender.avatar}" alt="sender avatar" class="avatar">\n\t\t\t\t\t\t\t\t\t\t<div class="text-container">\n\t\t\t\t\t\t\t\t\t\t\t<p class="sender-name">${e.sender.name}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p class="message-text">${e.message}</p>\n\t\t\t\t\t\t\t\t\t\t</div>`,lastMessage.agent=e.message),n(t)}return closeChat=document.querySelector(".close-chat-js"),messageInput=document.querySelector(".client-massage-text-js"),messagesContainer=document.querySelector(".messages-container"),modalChat=document.querySelector(".modal-chat-js"),config={},lastMessage={client:"",agent:""},e.onclick=function(){a({type:"client",message:messageInput.value})},t.onsubmit=function(){return a({type:"client",message:messageInput.value}),!1},messagesContainer.onclick=function(e){let t=e.target;t.classList.contains("prompts-js")&&a({type:"client",message:t.innerHTML})},closeChat.onclick=function(){s()},{chat_actions:s,create_message:a,config_chat:function(e){if(e)for(let t in e)if("prompts"===t){let s=document.createElement("div");s.classList.add("message-prompts","message-prompts-js","active");for(let n=0;n<e[t].length;n++){let a=document.createElement("button");a.classList.add("prompt","prompts-js"),a.innerHTML=e[t][n],s.appendChild(a)}messagesContainer.appendChild(s)}else"onSendClientMessage"===t&&(config.onSendClientMessage=e[t])},lastMessage:lastMessage}}();